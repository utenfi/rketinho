(function(n,t,i){"use strict";function it(n,t){t&&t.onError&&t.onError(n)===!1||(this.name="JsRender Error",this.message=n||"JsRender error")}function o(n,t){var i;n=n||{};for(i in t)n[i]=t[i];return n}function et(n,t,i){return(!d.rTag||arguments.length)&&(p=n?n.charAt(0):p,w=n?n.charAt(1):w,e=t?t.charAt(0):e,l=t?t.charAt(1):l,b=i||b,n="\\"+p+"(\\"+b+")?\\"+w,t="\\"+e+"\\"+l,c="(?:(?:(\\w+(?=[\\/\\s\\"+e+"]))|(?:(\\w+)?(:)|(>)|!--((?:[^-]|-(?!-))*)--|(\\*)))\\s*((?:[^\\"+e+"]|\\"+e+"(?!\\"+l+"))*?)",d.rTag=c+")",c=new RegExp(n+c+"(\\/)?|(?:\\/(\\w+)))"+t,"g"),ut=new RegExp("<.*>|([^\\\\]|^)[{}]|"+n+".*"+t)),[p,w,e,l,b]}function ei(n,t){t||(t=n,n=i);var e,f,o,u,r=this,s=!t||t==="root";if(n){if(u=r.type===t?r:i,!u)if(e=r.views,r._.useKey){for(f in e)if(u=e[f].get(n,t))break}else for(f=0,o=e.length;!u&&f<o;f++)u=e[f].get(n,t)}else if(s)while(r.parent.parent)u=r=r.parent;else while(r&&!u)u=r.type===t?r:i,r=r.parent;return u}function ot(){var n=this.get("item");return n?n.index:i}function oi(n){var r,u=this,t=(u.ctx||{})[n];return t=t===i?u.getRsc("helpers",n):t,t&&typeof t=="function"&&(r=function(){return t.apply(u,arguments)},o(r,t)),r||t}function si(n,t,u){var c,f,s,e=+u===u&&u,o=t.linkCtx;return e&&(u=(e=t.tmpl.bnds[e-1])(t.data,t,r)),s=u.args[0],(n||e)&&(f=o&&o.tag||{_:{inline:!o},tagName:n+":",flow:!0,_is:"tag"},f._.bnd=e,o&&(o.tag=f,f.linkCtx=o,u.ctx=h(u.ctx,o.view.ctx)),f.tagCtx=u,u.view=t,f.ctx=u.ctx||{},delete u.ctx,t._.tag=f,n=n!=="true"&&n,n&&((c=t.getRsc("converters",n))||v("Unknown converter: {{"+n+":"))&&(f.depends=c.depends,s=c.apply(f,u.args)),s=e&&t._.onRender?t._.onRender(s,t,e):s,t._.tag=i),s}function hi(n,t){for(var e=this,u=r[n],f=u&&u[t];f===i&&e;)u=e.tmpl[n],f=u&&u[t],e=e.parent;return f}function ci(n,t,u,e){var ut,s,ft,nt,k,l,tt,it,c,d,w,et,y,b="",g=+e===e&&e,a=t.linkCtx||0,p=t.ctx,ot=u||t.tmpl,st=t._;for(n._is==="tag"&&(s=n,n=s.tagName),g&&(e=(et=ot.bnds[g-1])(t.data,t,r)),tt=e.length,s=s||a.tag,l=0;l<tt;l++)c=e[l],w=c.tmpl,w=c.content=w&&ot.tmpls[w-1],u=c.props.tmpl,l||u&&s||(y=t.getRsc("tags",n)||v("Unknown tag: {{"+n+"}}")),u=u||!l&&y.template||w,u=""+u===u?t.getRsc("templates",u)||f(u):u,o(c,{tmpl:u,render:rt,index:l,view:t,ctx:h(c.ctx,p)}),s||(y.init?(s=new y.init(c,a,p),s.attr=s.attr||y.attr||i):s={render:y.render},s._={inline:!a},a&&(a.attr=s.attr=a.attr||s.attr,a.tag=s,s.linkCtx=a),(s._.bnd=et||a)&&(s._.arrVws={}),s.tagName=n,s.parent=k=p&&p.tag,s._is="tag"),st.tag=s,c.tag=s,s.tagCtxs=e,s.rendering={},s.flow||(d=c.ctx=c.ctx||{},ft=d.parentTags=p&&h(d.parentTags,p.parentTags)||{},k&&(ft[k.tagName]=k),d.tag=s);for(l=0;l<tt;l++)c=s.tagCtx=e[l],s.ctx=c.ctx,(ut=s.render)&&(it=ut.apply(s,c.args)),b+=it!==i?it:c.tmpl?c.render():"";return delete s.rendering,s.tagCtx=s.tagCtxs[0],s.ctx=s.tagCtx.ctx,s._.inline&&(nt=s.attr)&&nt!=="html"&&(b=nt==="text"?vt.html(b):""),g&&t._.onRender?t._.onRender(b,t,g):b}function k(n,t,r,u,f,e,o,s){var c,l,a,y=t==="array",v={key:0,useKey:y?0:1,id:""+ui++,onRender:s,bnds:{}},h={data:u,tmpl:f,content:o,views:y?[]:{},parent:r,ctx:n,type:t,get:ei,getIndex:ot,getRsc:hi,hlp:oi,_:v,_is:"view"};return r&&(c=r.views,l=r._,l.useKey?(c[v.key="_"+l.useKey++]=h,a=l.tag,v.bnd=y&&(!a||!!a._.bnd&&a)):c.splice(v.key=h.index=e!==i?e:c.length,0,h),h.ctx=n||r.ctx),h}function li(n){var t,i,r,u,f;for(t in a)if(u=a[t],(f=u.compile)&&(i=n[t+"s"]))for(r in i)i[r]=f(r,i[r],n,t,u)}function ai(n,t,i){var u,r;return typeof t=="function"?t={depends:t.depends,render:t}:((r=t.template)&&(t.template=""+r===r?f[r]||f(r):r),t.init!==!1&&(u=t.init=t.init||function(){},u.prototype=t,(u.prototype=t).constructor=u)),i&&(t._parentTmpl=i),t}function st(r,u,e,o,s,c){function v(i){if(""+i===i||i.nodeType>0){try{a=i.nodeType>0?i:!ut.test(i)&&t&&t(n.document).find(i)[0]}catch(u){}return a&&(i=a.getAttribute(ft),r=r||i,i=f[i],i||(r=r||"_"+ri++,a.setAttribute(ft,r),i=f[r]=st(r,a.innerHTML,e,o,s,c))),i}}var l,a;return u=u||"",l=v(u),c=c||(u.markup?u:{}),c.tmplName=r,e&&(c._parentTmpl=e),!l&&u.markup&&(l=v(u.markup))&&l.fn&&(l.debug!==u.debug||l.allowCode!==u.allowCode)&&(l=l.markup),l!==i?(r&&!e&&(tt[r]=function(){return u.render.apply(u,arguments)}),l.fn||u.fn?l.fn&&(u=r&&r!==l.tmplName?h(c,l):l):(u=ht(l,c),ct(l,u)),li(c),u):void 0}function ht(n,t){var i,f=y.wrapMap||{},r=o({markup:n,tmpls:[],links:{},tags:{},bnds:[],_is:"template",render:rt},t);return t.htmlTag||(i=ni.exec(n),r.htmlTag=i?i[1].toLowerCase():""),i=f[r.htmlTag],i&&i!==f.div&&(r.markup=u.trim(r.markup),r._elCnt=!0),r}function vi(n,t){function u(e,o,s){var l,h,a,c;if(e&&""+e!==e&&!e.nodeType&&!e.markup){for(a in e)u(a,e[a],o);return r}return c=s?s[f]=s[f]||{}:u,o===i&&(o=e,e=i),h=t.compile,(l=d.onBeforeStoreItem)&&(h=l(c,e,o,h)||h),e?""+e===e&&(o===null?delete c[e]:c[e]=h?o=h(e,o,s,n,t):o):o=h(i,o),o&&(o._is=n),(l=d.onStoreItem)&&l(c,e,o,h),o}var f=n+"s";r[f]=u;a[n]=t}function rt(n,t,e,o,s,c){var w,ut,nt,y,tt,it,rt,b,p,ft,d,et,a,l=this,ot=!l.attr||l.attr==="html",g="";if(o===!0&&(rt=!0,o=0),l.tag?(b=l,l=l.tag,ft=l._,et=l.tagName,a=b.tmpl,t=h(t,l.ctx),p=b.content,b.props.link===!1&&(t=t||{},t.link=!1),e=e||b.view,n=n===i?e:n):a=l.jquery&&(l[0]||v('Unknown template: "'+l.selector+'"'))||l,a&&(!e&&n&&n._is==="view"&&(e=n),e&&(p=p||e.content,c=c||e._.onRender,n===e&&(n=e.data,s=!0),t=h(t,e.ctx)),e&&e.data!==i||((t=t||{}).root=n),a.fn||(a=f[a]||f(a)),a)){if(c=(t&&t.link)!==!1&&ot&&c,d=c,c===!0&&(d=i,c=e._.onRender),u.isArray(n)&&!s)for(y=rt?e:o!==i&&e||k(t,"array",e,n,a,o,p,c),w=0,ut=n.length;w<ut;w++)nt=n[w],tt=k(t,"item",y,nt,a,(o||0)+w,p,c),it=a.fn(nt,tt,r),g+=y._.onRender?y._.onRender(it,tt):it;else y=rt?e:k(t,et||"data",e,n,a,o,p,c),ft&&!l.flow&&(y.tag=l),g+=a.fn(n,y,r);return d?d(g,y):g}return""}function v(n){if(y.debugMode)throw new r.sub.Error(n);}function s(n){v("Syntax error\n"+n)}function ct(n,t,i,r){function v(t){t-=f;t&&h.push(n.substr(f,t).replace(nt,"\\n"))}function l(t){t&&s('Unmatched or missing tag: "{{/'+t+'}}" in template:\n'+n)}function y(t,e,c,y,w,b,k,d,g,tt,it,rt){b&&(w=":",y="html");tt=tt||i;var ct,et,ot=e&&[],ft="",ut="",st="",ht=!tt&&!w&&!k;c=c||w;v(rt);f=rt+t.length;d?p&&h.push(["*","\n"+g.replace(bt,"$1")+"\n"]):c?(c==="else"&&(gt.test(g)&&s('for "{{else if expr}}" use "{{else expr}}"'),ot=u[6],u[7]=n.substring(u[7],rt),u=o.pop(),h=u[3],ht=!0),g&&(g=g.replace(nt," "),ft=at(g,ot).replace(dt,function(n,t,i){return t?st+=i+",":ut+=i+",",""})),ut=ut.slice(0,-1),ft=ft.slice(0,-1),ct=ut&&ut.indexOf("noerror:true")+1&&ut||"",a=[c,y||!!r||"",ft,ht&&[],'params:"'+g+'",props:{'+ut+"}"+(st?",ctx:{"+st.slice(0,-1)+"}":""),ct,ot||0],h.push(a),ht&&(o.push(u),u=a,u[7]=f)):it&&(et=u[0],l(it!==et&&et!=="else"&&it),u[7]=n.substring(u[7],rt),u=o.pop());l(!u&&it);h=u[3]}var a,p=t&&t.allowCode,e=[],f=0,o=[],h=e,u=[,,,e];return n=n.replace(kt,"\\$1"),l(o[0]&&o[0][3].pop()[0]),n.replace(c,y),v(n.length),(f=e[e.length-1])&&l(""+f!==f&&+f[7]===f[7]&&f[0]),lt(e,t||n,i)}function lt(n,i,r){var c,f,e,l,a,p,st,ct,at,tt,w,o,wt,et,v,it,b,bt,rt,vt,k,yt,pt,ot,ut,d,h=0,u="",g="",ft={},kt=n.length;for(""+i===i?(v=r?'data-link="'+i.replace(nt," ").slice(1,-1)+'"':i,i=0):(v=i.tmplName||"unnamed",(bt=i.allowCode)&&(ft.allowCode=!0),i.debug&&(ft.debug=!0),w=i.bnds,et=i.tmpls),c=0;c<kt;c++)if(f=n[c],""+f===f)u+='\nret+="'+f+'";';else if(e=f[0],e==="*")u+=""+f[1];else{if(l=f[1],a=f[2],rt=f[3],p=f[4],g=f[5],vt=f[7],(pt=e==="else")||(h=0,w&&(o=f[6])&&(h=w.push(o))),(ot=e===":")?(l&&(e=l==="html"?">":l+e),g&&(ut="prm"+c,g="try{var "+ut+"=["+a+"][0];}catch(e){"+ut+'="";}\n',a=ut)):(rt&&(it=ht(vt,ft),it.tmplName=v+"/"+e,lt(rt,it),et.push(it)),pt||(b=e,yt=u,u="",wt=c),k=n[c+1],k=k&&k[0]==="else"),p+=",args:["+a+"]}",ot&&o||l&&e!==">"){if(d=new Function("data,view,j,u"," // "+v+" "+h+" "+e+"\n"+g+"return {"+p+";"),d.paths=o,d._ctxs=e,r)return d;tt=!0}if(u+=ot?"\n"+(o?"":g)+(r?"return ":"ret+=")+(tt?(tt=!0,'c("'+l+'",view,'+(o?(w[h-1]=d,h):"{"+p)+");"):e===">"?(ct=!0,"h("+a+");"):(at=!0,"(v="+a+")!="+(r?"=":"")+'u?v:"";')):(st=!0,"{tmpl:"+(rt?et.length:"0")+","+p+","),b&&!k){if(u="["+u.slice(0,-1)+"]",(r||o)&&(u=new Function("data,view,j,u"," // "+v+" "+h+" "+b+"\nreturn "+u+";"),o&&((w[h-1]=u).paths=o),u._ctxs=e,r))return u;u=yt+'\nret+=t("'+b+'",view,this,'+(h||u)+");";o=0;b=0}}u="// "+v+"\nvar j=j||"+(t?"jQuery.":"js")+"views"+(at?",v":"")+(st?",t=j._tag":"")+(tt?",c=j._cnvt":"")+(ct?",h=j.converters.html":"")+(r?";\n":',ret="";\n')+(y.tryCatch?"try{\n":"")+(ft.debug?"debugger;":"")+u+(r?"\n":"\nreturn ret;\n")+(y.tryCatch?"\n}catch(e){return j._err(e);}":"");try{u=new Function("data,view,j,u",u)}catch(dt){s("Compiled template code:\n\n"+u,dt)}return i&&(i.fn=u),u}function at(n,t){function c(c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot){function st(n,i,r,u,f,e,s){if(i&&(t&&!o&&t.push(v),i!==".")){var h=(r?'view.hlp("'+r+'")':u?"view":"data")+(s?(f?"."+f:r?"":u?"":"."+i)+(e||""):(s=r?"":u?f||"":i,""));return h=h+(s?"."+s:""),h.slice(0,9)==="view.data"?h.slice(5):h}return n}if(y=y||"",a=a||l||g,v=v||b,t&&rt&&t.push({_jsvOb:ot.slice(h[i-1]+1,et+1)}),k=k||ut||"",p)s(n);else return f?(f=!nt,f?c:'"'):u?(u=!tt,u?c:'"'):(a?(i++,h[i]=et,a):"")+(ft?i?"":e?(e=o=!1,"\b"):",":w?(i&&s(n),e=v,o=v.charAt(0)==="~","\b"+v+":"):v?v.split("^").join(".").replace(pt,st)+(k?(r[++i]=!0,k):y):y?y:it?(r[i--]=!1,it)+(k?(r[++i]=!0,k):""):d?(r[i]||s(n),","):l?"":(f=nt,u=tt,'"'))}var e,o,r={},h={0:-1},i=0,u=!1,f=!1;return(n+" ").replace(wt,c)}function h(n,t){return n&&n!==t?t?o(o({},t),n):n:t&&o({},t)}function yt(n){return fi[n]}if((!t||!t.views)&&!n.jsviews){var u,g,c,ut,p="{",w="{",e="}",l="}",b="^",pt=/^(?:null|true|false|\d[\d.]*|([\w$]+|\.|~([\w$]+)|#(view|([\w$]+))?)([\w$.^]*?)(?:[.[^]([\w$]+)\]?)?)$/g,wt=/(\()(?=\s*\()|(?:([([])\s*)?(?:([#~]?[\w$.^]+)?\s*((\+\+|--)|\+|-|&&|\|\||===|!==|==|!=|<=|>=|[<>%*!:?\/]|(=))\s*|([#~]?[\w$.^]+)([([])?)|(,\s*)|(\(?)\\?(?:(')|("))|(?:\s*((\))(?=\s*\.|\s*\^)|\)|\])([([]?))|(\s+)/g,nt=/\s*\n/g,bt=/\\(['"])/g,kt=/([\\'"])/g,dt=/\x08(~)?([^\x08]+)\x08/g,gt=/^if\s/,ni=/<(\w+)[>\s]/,ti=/[<"'&]/g,ii=/[><"'&]/g,ri=0,ui=0,fi={"&":"&amp;","<":"&lt;",">":"&gt;","\x00":"&#0;","'":"&#39;",'"':"&#34;"},ft="data-jsv-tmpl",pi=[].slice,tt={},a={template:{compile:st},tag:{compile:ai},helper:{},converter:{}},r={jsviews:"v1.0pre",render:tt,View:k,settings:{delimiters:et,debugMode:!0,tryCatch:!0},sub:{Error:it,tmplFn:ct,parse:at,extend:o,error:v,syntaxError:s},_cnvt:si,_tag:ci,_err:function(n){return y.debugMode?"Error: "+(n.message||n)+". ":""}};(it.prototype=new Error).constructor=it;ot.depends=function(){return[this.get("item"),"index"]};for(g in a)vi(g,a[g]);var f=r.templates,vt=r.converters,wi=r.helpers,yi=r.tags,d=r.sub,y=r.settings;t?(u=t,u.fn.render=rt):(u=n.jsviews={},u.isArray=Array&&Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"});u.render=tt;u.views=r;u.templates=f=r.templates;yi({"else":function(){},"if":{render:function(n){var t=this;return t.rendering.done||!n&&(arguments.length||!t.tagCtx.index)?"":(t.rendering.done=!0,t.selected=t.tagCtx.index,t.tagCtx.render())},onUpdate:function(n,t,i){for(var r,f,u=0;(r=this.tagCtxs[u])&&r.args.length;u++)if(r=r.args[0],f=!r!=!i[u].args[0],!!r||f)return f;return!1},flow:!0},"for":{render:function(n){var t=this,f=t.tagCtx,e=!arguments.length,r="",o=e||0;return t.rendering.done||(e?r=i:n!==i&&(r+=f.render(n),o+=u.isArray(n)?n.length:1),(t.rendering.done=o)&&(t.selected=f.index)),r},onUpdate:function(){},onArrayChange:function(n,t){var i,u=this,r=t.change;if(this.tagCtxs[1]&&(r==="insert"&&n.target.length===t.items.length||r==="remove"&&!n.target.length||r==="refresh"&&!t.oldItems.length!=!n.target.length))this.refresh();else for(i in u._.arrVws)i=u._.arrVws[i],i.data===n.target&&i._.onArrayChange.apply(i,arguments);n.done=!0},flow:!0},include:{flow:!0},"*":{render:function(n){return n},flow:!0}});vt({html:function(n){return n!=i?String(n).replace(ii,yt):""},attr:function(n){return n!=i?String(n).replace(ti,yt):n===null?null:""},url:function(n){return n!=i?encodeURI(String(n)):n===null?null:""}});et()}})(this,this.jQuery);
var load_views_helpers=function(){var n={};$.views.tags({setvar:function(t,i){n[t]=i}});$.views.helpers({getvar:function(t){return n[t]}});$.views.helpers({getvar:function(t){return n[t]},setMinPrice:function(t){var i=99999999,r=99999999;for(d=0;d<t.length;d++)t[d].dopravne>=0&&i>t[d].cena+t[d].dopravne&&(i=t[d].cena+t[d].dopravne),t[d].cena>=0&&r>t[d].cena&&(r=t[d].cena);n.minCenaSDopravou=i;n.minCena=r},getCenaSDoprDiff:function(t,i){return t>=0?"<div class='title' title='rozdiel medzi aktuálnou a najnižšou cenou s dopravou'>"+(t+i-n.minCenaSDopravou).toFixed(2)+"<\/div>":0},getFields:function(n){var t,i,r=[];for(t in n)n.hasOwnProperty(t)&&(i=n[t],r.push({key:t,value:i}));return r},parseInt:function(n){return parseInt(n)},formatDecimal:function(n,t){if(n)return Math.round(n)==n?n:n.toFixed(t)}})},views_loaded;window.deferJS?(views_loaded=function(){load_views_helpers()},deferJS("$.views",views_loaded)):load_views_helpers();
