function ajax_grid_products(n,t,i){ajax_grid.call(this,n,t,i);this.type="ajax_grid_products"}function HandleParameterClick(n){var o=$(this).parents(".mw_morepars").length===1,t=null,f,i;if((o?t=ajax_grid.prototype.get_grid_by_type("ajax_grid_products"):(f=n.target||n.srcElement,t=ajax_grid.GetGridFromSubElement(f)),n.stopPropagation(),n.preventDefault(),$(".sendingrequest_user_is_waiting").length===0)&&($(".user-input label.label_check").addClass("sendingrequest_user_is_waiting"),$(".user-input label.label_check").addClass("disabled_input"),$(this).toggleClass("c_on"),t.options.pageIndex=0,t.options.pagesShown=1,$(this).filter(":visible").length===1)){if(i=$(this).closest(".groupdata")[0].id.replace("group","").replace("_databox",""),f_types[f_names.indexOf(i)]==="ldi"){var r=99999999,u=-1,e="group"+i;$("#"+e+"_cont input[type=checkbox]").each(function(){if($(this).parent().hasClass("c_on")){var n=this.value.split("*");parseInt(n[0])<r&&(r=n[0]);parseInt(n[1])>u&&(u=n[1])}});t.SetIntervalInputValues(e,r,u)}t.SendRequest(i,new function(){$(window).width()<1024&&(HideHamOverlay(),$.fn.colorbox.close())})}}function GetMorePars_2014(n,t){var r=search_filter.Get_search_options(),i={};i.searchString=r.category_filter_text;i.minCenaS=r.price_from;i.maxCenaS=r.price_to;i.c=r.category_id;r.category_filter_text||(i.c=pageParameters.categoryId);i.r=null;i.name=n;i.sort="all_name";i.f=$.toJSON(t.options);$.ajax({url:"/search.asmx/GetMorePars_2014",type:"POST",dataType:"json",contentType:"application/json; charset=utf-8",data:$.toJSON(i),success:GetMorePars_OnSucceeded_2014,error:function(){alert("error")}})}function GetMorePars_OnSucceeded_2014(n){var i,t,r;HideHamOverlay();i=$.evalJSON(n.d);t='<div id="group'+i.Name+'_databox_window" class="groupdata" style="display:block">';t+='<div id="group'+i.Name+'_cont">';t+="<div><div class='mw_morepars'>"+i.Content+"<\/div><div style='margin-top:20px; text-align:center'><\/div><\/div>";t+="<\/div><\/div>";r="430";$(window).width()<450&&(r="310");$.colorbox({width:r,opacity:.6,html:t})}function BindEvents_WindowWithParameterValues(){$(".scrollbar_in_window .label_check, .scrollbar_in_window .label_radio, .scrollbar_in_window .label_color_check").off("click");$(".scrollbar_in_window .label_check, .scrollbar_in_window .label_radio, .scrollbar_in_window .label_color_check").not(".disabled_input").on("click",HandleParameterClick)}function scrollActualizeButton(){var n=$(".actcmdM");n.length!=0&&(n.position().top+n.height()>$(window).scrollTop()+$(window).height()?n.addClass("actcmdM_float").stop().animate({marginTop:-(n.position().top-$(window).height()+n.height()-$(window).scrollTop())+"px"},"slow"):n.removeClass("actcmdM_float").stop().animate({marginTop:"0px"},"slow"))}var pageParameters=window.pageParameters||{};ajax_grid_products.prototype=Object.create(ajax_grid.prototype);ajax_grid_products.prototype.constructor=ajax_grid_products;ajax_grid_products.prototype.GetF_C_OpenState=function(){for(var t="",n=0;n<f_types.length;n++)t+=f_types[n]=="se"?"1,":$("#group"+f_names[n]+"_cont").find(".choose-product").find(".user-check").css("visibility")=="hidden"?"0,":"1,";return t};ajax_grid_products.prototype.CancelFilterLink=function(n){if(n.id.indexOf("target_")>=0){var t=n.id.replace("target_",""),i=!1;t.lastIndexOf("|",0)!==0&&(t=t.replace(".","\\."),$('input[id="'+t+'"]').length!==0&&(i=!$('input[id="'+t+'"]')[0].checked));i?$("#"+t).val(""):(t.length>4&&t.substring(0,4)=="ldi_"&&(t=t.replace("ldi_",""),$("#group"+t+"_from").val(""),$("#group"+t+"_to").val("")),t.lastIndexOf("|",0)!==0&&$("#"+t).parent().removeClass("c_on"))}};ajax_grid_products.prototype.BindEvents=function(){function n(n,t){if(n==13){var i=ajax_grid.GetGridFromSubElement(t);i.options.pageIndex=0;i.SendRequest("")}}ajax_grid.prototype.BindEvents.call(this,this);$(".cancel_filter").off("click").on("click",function(n){var i=n.target||n.srcElement,t=ajax_grid.GetGridFromSubElement(i);t.CancelFilterLink(this);t.SendRequest(name)});$(".cancel_filter_all").off("click").on("click",function(n){var i=n.target||n.srcElement,t=ajax_grid.GetGridFromSubElement(i);$(".cancel_filter").each(function(){t.CancelFilterLink(this)});t.SendRequest(name)});$("#groupsearchText_search").off("keypress").on("keypress",function(t){var i=t.target||t.srcElement;n(t.which,i)});$(".choose-input :input").off("keypress").on("keypress",function(t){var i=t.target||t.srcElement;n(t.which,i)});$("."+this.options.container_class+" .label_check input").length&&($("."+this.options.container_class+" .label_check").each(function(){$(this).removeClass("c_on")}),$("."+this.options.container_class+" .label_check input:checked").each(function(){$(this).parent("label").addClass("c_on")}));$("."+this.options.container_class+" .label_radio input").length&&($("."+this.options.container_class+" .label_radio").each(function(){$(this).removeClass("r_on")}),$("."+this.options.container_class+" .label_radio input:checked").each(function(){$(this).parent("label").addClass("r_on")}));$(".ntip").tooltip();jQuery(".only_int").numeric({allowDecimal:!1,maxDecimals:0});jQuery(".no_enter").no_enter();$(".slide-scroll").off("click").on("click",function(){var t=event.target||event.srcElement,n=ajax_grid.GetGridFromSubElement(t),i=!1,r=$(this).next().height();$(this).next().css("display")=="none"?($(this).addClass("list-open"),i=!0,$(this).next().css({display:"block"}),$("."+n.options.container_class+" .scrollbar1").length!==0&&$("."+n.options.container_class+" .scrollbar1").data().plugin_tinyscrollbar.update()):($(this).removeClass("list-open"),$(this).next().css({display:"none"}))});$("."+this.options.container_class+" .label_check input").length&&($("."+this.options.container_class+" .label_check").each(function(){$(this).removeClass("c_on")}),$("."+this.options.container_class+" .label_check input:checked").each(function(){$(this).parent("label").addClass("c_on")}));$("."+this.options.container_class+" .label_radio input").length&&($(".label_radio").each(function(){$(this).removeClass("r_on")}),$(".label_radio input:checked").each(function(){$(this).parent("label").addClass("r_on")}));$("."+this.options.container_class+" .scrollbar1").tinyscrollbar({thumbSize:34});$("."+this.options.container_class+" .label_check, ."+this.options.container_class+" .label_radio, ."+this.options.container_class+" .label_color_check").off("click");$("."+this.options.container_class+" .label_check, ."+this.options.container_class+" .label_radio, ."+this.options.container_class+" .label_color_check").not(".disabled_input").on("click",HandleParameterClick);$(".slide").off("click").on("click",function(){$(this).next().slideToggle(600);$(this).toggleClass("active")});$(".filter-icon").click(function(){$(".content-wrap").addClass("filter-display");$(".slide-menu-overlay").addClass("opac-overlay");$("#header").addClass("new-index");$(".flex-viewport").addClass("new-flex-index")})};ajax_grid_products.prototype.SetIntervalInputValues=function(n,t,i){t==99999999||t==0?$("#"+n+"_from").val(""):$("#"+n+"_from").val(t);i==-1||i==99999999||i==32767?$("#"+n+"_to").val(""):$("#"+n+"_to").val(i);$("#"+n+"_al").css("visibility","visible");$("#"+n+"_cont input[type=checkbox]").attr("disabled",!0)};ajax_grid_products.prototype.InitializeRangeSlider=function(n,t,i,r,u){$("#"+n).parent().find("span.jslider").remove();$("#"+n).data("jslider")&&$("#"+n).removeData("jslider");$("#"+n).slider({from:t,to:i,scale:r,heterogeneity:u,limits:!1,round:0,step:1,format:{format:"##",locale:"sk"},skin:"round_plastic",callback:function(n){var f=$(this.inputNode).closest(".groupdata")[0].id.replace("group","").replace("_databox",""),r=99999999,u=-1,e="group"+f,t=n.split(";"),i;parseInt(t[0])<r&&(r=t[0]);parseInt(t[1])>u&&parseInt(t[1])<this.settings.to&&(u=t[1]);i=ajax_grid.prototype.get_grid_by_type("ajax_grid_products");i.SetIntervalRangeValues(e,r,u);i.options.pageIndex=0;i.SendRequest(f)}})};ajax_grid_products.prototype.SetIntervalRangeValues=function(n,t,i){t==99999999||t==0?$("#"+n+"_from").val(""):$("#"+n+"_from").val(t);i==-1||i==99999999||i==32767?$("#"+n+"_to").val(""):$("#"+n+"_to").val(i);$("#"+n+"_al").css("visibility","visible");$("#"+n+"_cont input[type=checkbox]").attr("disabled",!0)};ajax_grid_products.prototype.ReadParameters=function(n){var t=ajax_grid.prototype.ReadParameters.call(this,n);return t.initialOptions?t.initialOptions=!1:t.parameters=this.actnq_2014(!1),t.c_on=ajax_grid_products.prototype.GetF_C_OpenState(),t.name="",t.sd="",n&&(t.name=n,t.sd=$("#group"+n+"_static").text()),t};ajax_grid_products.prototype.actnq_2014=function(n){for(var u,r,f,e,i="",t=0;t<f_types.length;t++)if(f_types[t]=="se")$("#group"+f_names[t]+"_search").val()!==$("#group"+f_names[t]+"_search").attr("name")&&$("#group"+f_names[t]+"_search").val()!==""&&(i+="_"+f_abbrs[t]+"*"+encodeURI(diaConvert($("#group"+f_names[t]+"_search").val()))+"_");else if(f_types[t]=="ldi")$("#group"+f_names[t]+"_from").length!==0&&($("#group"+f_names[t]+"_from").val()!==""||$("#group"+f_names[t]+"_to").val()!=="")&&(i+="_"+f_abbrs[t]+"*"+encodeURI($("#group"+f_names[t]+"_from").val())+"*"+encodeURI($("#group"+f_names[t]+"_to").val())+"_");else if(f_types[t]=="li"&&(u="#group"+f_names[t]+"_databox",$(u+"_window").length!==0&&(u+="_window"),r=$(u).find(".label_check, .label_color_check").filter(".c_on"),r.length!==0))if(f_names[t]!=="feat"&&f_names[t]!=="productprops"){if(!n||f_names[t]!="brands"||r.length!=1){for(i+="_"+f_abbrs[t],f=0;f<r.length;f++)i+="*"+r[f].children[0].id.replace(f_abbrs[t]+"_","").trim();i+="_"}}else for(e=0;e<r.length;e++)i+="_"+r[e].children[0].id.replace("_","*")+"_";return n?ajax_grid_products.prototype.RemoveProductParametersFromFakedCategoryFromUrl(i):i};ajax_grid_products.prototype.RemoveProductParametersFromFakedCategoryFromUrl=function(n){var i,t;if(pageParameters.productParametersOfFakedCategory!==""&&pageParameters.productParametersOfFakedCategory!==null)for(i=pageParameters.productParametersOfFakedCategory.split("__"),t=0;t<i.length;t++)n=n.replace("_"+i[t].replace(/_/g,"")+"_","");return n};pageParameters.GetUrl=function(){var n=pageParameters.basicProductUrl;return pageParameters.section!==0&&(n+=pageParameters.sectionName),n=ajax_grid_products.GetUrlForUpdate(ajax_grid_products.options,n),pageParameters.cat_poradna.GetUrlForUpdate(pageParameters.cat_poradna.options,n)};pageParameters.ProcessAfterHistoryPop=function(){for(i=0;i<ajax_grid.instances.length;++i)ajax_grid.instances[i].BindEvents();$("img.lazy_activated").removeClass("lazy_activated").addClass("lazy");lazyload_start()};
